@tailwind base;
@tailwind components;
@tailwind utilities;

@property --border-angle {
  inherits: false;
  initial-value: 0deg;
  syntax: "<angle>";
}

/* Smooth scrolling for the entire app */
html {
  scroll-behavior: smooth;
}

/* Custom scrollbar styling */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: rgba(30, 41, 59, 0.5);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb {
  background: rgba(100, 116, 139, 0.5);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(100, 116, 139, 0.7);
}

/* Hide scrollbar for mobile while keeping scroll functionality */
@media (max-width: 767px) {
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}

.input {
  @apply w-full bg-slate-800/50 border border-slate-700 rounded-lg py-2 pl-10 pr-4 text-slate-200 placeholder-slate-400 focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200;
}

.auth-input-icon {
  @apply absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 size-5;
}

.auth-input-label {
  @apply block text-sm font-medium text-slate-300 mb-2;
}

.auth-badge {
  @apply inline-flex items-center px-3 py-1 text-xs font-medium rounded-full bg-cyan-500/20 text-cyan-300;
}

.auth-btn {
  @apply w-full bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg py-3 font-medium
  hover:from-cyan-600 hover:to-cyan-700 focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-slate-900 
  transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-cyan-500/25;
}

.auth-link {
  @apply px-4 py-2 inline-block bg-cyan-500/10 rounded-lg text-cyan-400
  hover:text-cyan-300 hover:bg-cyan-500/20 text-sm transition-all duration-200;
}

/* Chat bubble animations */
.chat-bubble-enter {
  animation: chatBubbleEnter 0.3s ease-out forwards;
}

@keyframes chatBubbleEnter {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Glassmorphism effect */
.glass {
  @apply bg-slate-800/30 backdrop-blur-xl border border-slate-700/50;
}

.glass-strong {
  @apply bg-slate-800/50 backdrop-blur-2xl border border-slate-600/30;
}

/* Gradient text */
.gradient-text {
  @apply bg-gradient-to-r from-cyan-400 to-pink-400 bg-clip-text text-transparent;
}

/* Glow effects */
.glow-cyan {
  box-shadow: 0 0 20px rgba(6, 182, 212, 0.3), 0 0 40px rgba(6, 182, 212, 0.1);
}

/* Mobile safe area padding */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-area-all {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* iOS/Android Keyboard Responsive Fixes */
@supports (height: 100dvh) {
  .h-dvh {
    height: 100dvh;
  }
  
  .min-h-dvh {
    min-height: 100dvh;
  }
}

/* Fix iOS keyboard push behavior */
html, body {
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
}

/* Prevent iOS zoom on input focus */
@media screen and (max-width: 767px) {
  input[type="text"],
  input[type="email"],
  input[type="password"],
  textarea {
    font-size: 16px !important; /* Prevents iOS zoom */
  }
}

/* Touch-friendly improvements */
@media (max-width: 767px) {
  /* Better touch targets */
  button, 
  [role="button"],
  .clickable {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Prevent text selection during touch interactions */
  .no-select {
    -webkit-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
  }
  
  /* Smooth keyboard transitions */
  .keyboard-transition {
    transition: transform 0.25s ease-out, height 0.25s ease-out;
  }
}

/* iOS visual viewport fixes for keyboard */
@supports (height: 100svh) {
  .ios-keyboard-fix {
    min-height: 100svh;
    min-height: -webkit-fill-available;
  }
}

/* Message container scroll behavior for keyboard */
.chat-messages-container {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  overscroll-behavior-y: contain;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Input area sticky to bottom with keyboard */
.chat-input-area {
  position: sticky;
  bottom: 0;
  z-index: 20;
  background: inherit;
}

/* Animation utilities */
.animate-fade-in {
  animation: fadeIn 0.3s ease-out forwards;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slideUp 0.4s ease-out forwards;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-in-right {
  animation: slideInRight 0.3s ease-out forwards;
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-slide-in-left {
  animation: slideInLeft 0.3s ease-out forwards;
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}
